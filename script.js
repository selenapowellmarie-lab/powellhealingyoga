// ================== LANG.JS ==================
// ================== LANG.JS ==================
// Language definitions
const languageData = {
    en: {
        title: "Healing Yoga",
        siteName: "Healing Yoga",
        welcomeModal: {
            heading: "Welcome to Healing Yoga",
            text: "Find your inner peace with yoga and meditation classes in London and Tokyo.",
            button: "Get Started"
        },
        headerNav: {
            home: "Home",
            about: "About",
            services: "Classes",
            schedule: "Schedule",
            gallery: "Gallery",
            contact: "Contact",
            langBtn: "日本語"
        },
        hero: {
            heading: "Balance Your Mind and Body",
            text: "Join Melissa Jane for calming yoga and meditation sessions designed for all levels.",
            button: "Book a Class"
        },
        directorCard: {
            title: "Instructor",
            name: "Melissa Jane",
            dob: "Based in London & Tokyo"
        },
        about: {
            heading: "About Us",
            text1: "Healing yoga offers a peaceful space to practice yoga and meditation with guidance from certified instructor Melissa Jane.",
            text2: "Our mission is to help you reduce stress, improve flexibility, and connect with your inner self, whether you are a beginner or an experienced practitioner.",
            businessAddress: "Studio Locations",
            address: "London, United Kingdom\nTokyo, Japan"
        },
        services: {
            heading: "Our Classes",
            list: [
                { title: "Hatha Yoga", text: "Gentle postures and breathing techniques for relaxation." },
                { title: "Vinyasa Flow", text: "Dynamic sequences that connect movement with breath." },
                { title: "Meditation Sessions", text: "Guided meditation to calm the mind and find focus." },
                { title: "Private Lessons", text: "One-on-one sessions tailored to your personal goals." },
                { title: "Workshops", text: "Special events to deepen your practice and knowledge." },
                { title: "Corporate Wellness", text: "Yoga and mindfulness programs for workplaces." }
            ]
        },
        schedule: {
            heading: "Class Schedule",
            regular: {
                title: "Weekly Classes",
                weekdays: "Monday - Friday: 7:00 AM - 8:00 PM",
                saturday: "Saturday: 9:00 AM - 6:00 PM"
            },
            emergency: {
                title: "Retreats & Special Events",
                text: "Seasonal retreats and workshops available in London and Tokyo"
            }
        },
        gallery: { heading: "Gallery" },
        contact: {
            heading: "Contact Us",
            subHeading: "Get in Touch",
            text: "Reach out to book a class, join a workshop, or ask questions.",
            form: {
                name: "Name",
                email: "Email",
                message: "Message",
                button: "Send Message"
            },
            successMessage: "Thank you for your message. We will get back to you soon."
        },
        footer: {
            siteName: "Healing Yoga",
            links: {
                home: "Home",
                about: "About",
                services: "Classes",
                contact: "Contact"
            },
            copyright: "© 2025 Healing Yoga. All rights reserved."
        },
        reasons: {
            heading: "Why Choose Us",
            list: [
                { title: "Experienced Instructor", text: "Learn from certified yoga teacher Melissa Jane." },
                { title: "Peaceful Studios", text: "Practice in calming spaces in London and Tokyo." },
                { title: "Flexible Options", text: "Group, private, and online sessions available." },
                { title: "Holistic Approach", text: "Focus on mind, body, and spirit." },
                { title: "Community Support", text: "Be part of a welcoming and supportive yoga family." },
                { title: "Wellness Retreats", text: "Seasonal retreats to rejuvenate your soul." }
            ]
        }
    },
    jp: {
        title: "カルム ヨガ と 瞑想",
        siteName: "カルム ヨガ と 瞑想",
        welcomeModal: {
            heading: "カルム ヨガ と 瞑想へようこそ",
            text: "ロンドンと東京で行うヨガと瞑想のクラスで心の平和を見つけましょう。",
            button: "始める"
        },
        headerNav: {
            home: "ホーム",
            about: "私たちについて",
            services: "クラス",
            schedule: "スケジュール",
            gallery: "ギャラリー",
            contact: "お問い合わせ",
            langBtn: "English"
        },
        hero: {
            heading: "心と体のバランスを整える",
            text: "初心者から経験者まで、メリッサ・ジェーンが導く癒しのヨガと瞑想セッション。",
            button: "クラスを予約"
        },
        directorCard: {
            title: "インストラクター",
            name: "メリッサ・ジェーン",
            dob: "ロンドン & 東京を拠点"
        },
        about: {
            heading: "私たちについて",
            text1: "カルム ヨガ と 瞑想は、認定インストラクターのメリッサ・ジェーンが指導する落ち着いた空間でヨガと瞑想を実践できます。",
            text2: "私たちの使命は、ストレスを減らし、柔軟性を高め、内なる自分とつながることをサポートすることです。初心者も経験者も歓迎します。",
            businessAddress: "スタジオ所在地",
            address: "イギリス・ロンドン\n日本・東京"
        },
        services: {
            heading: "クラス内容",
            list: [
                { title: "ハタヨガ", text: "リラックスのための穏やかなポーズと呼吸法。" },
                { title: "ヴィンヤサフロー", text: "呼吸と動きをつなぐダイナミックなシークエンス。" },
                { title: "瞑想セッション", text: "心を落ち着け集中するためのガイド付き瞑想。" },
                { title: "プライベートレッスン", text: "個人の目標に合わせたマンツーマン指導。" },
                { title: "ワークショップ", text: "練習や知識を深める特別イベント。" },
                { title: "法人向けウェルネス", text: "職場のためのヨガとマインドフルネスプログラム。" }
            ]
        },
        schedule: {
            heading: "クラススケジュール",
            regular: {
                title: "毎週のクラス",
                weekdays: "月曜日 - 金曜日: 7:00 - 20:00",
                saturday: "土曜日: 9:00 - 18:00"
            },
            emergency: {
                title: "リトリート・特別イベント",
                text: "ロンドンと東京で開催される季節ごとのリトリートやワークショップ"
            }
        },
        gallery: { heading: "ギャラリー" },
        contact: {
            heading: "お問い合わせ",
            subHeading: "ご連絡ください",
            text: "クラス予約、ワークショップ参加、またはご質問はこちらから。",
            form: {
                name: "お名前",
                email: "メール",
                message: "メッセージ",
                button: "送信"
            },
            successMessage: "お問い合わせありがとうございます。折り返しご連絡いたします。"
        },
        footer: {
            siteName: "カルム ヨガ と 瞑想",
            links: {
                home: "ホーム",
                about: "私たちについて",
                services: "クラス",
                contact: "お問い合わせ"
            },
            copyright: "© 2025 カルム ヨガ と 瞑想。無断転載禁止。"
        },
        reasons: {
            heading: "私たちを選ぶ理由",
            list: [
                { title: "経験豊富なインストラクター", text: "認定ヨガ講師メリッサ・ジェーンから学べます。" },
                { title: "落ち着いたスタジオ", text: "ロンドンと東京の静かな空間で練習。" },
                { title: "柔軟な選択肢", text: "グループ、個人、オンラインセッションをご用意。" },
                { title: "ホリスティックなアプローチ", text: "心・体・魂に焦点を当てます。" },
                { title: "コミュニティサポート", text: "温かく支え合うヨガ仲間とつながりましょう。" },
                { title: "ウェルネスリトリート", text: "心をリフレッシュする季節ごとのリトリート。" }
            ]
        }
    }
};


// ================== LANGUAGE TOGGLE FUNCTION ==================
let isJapanese = false;
const langBtn = document.getElementById('langToggle');

function setLanguage(lang) {
    const data = languageData[lang];
    if (!data) return;

    // Page title
    document.title = data.title;

    // Site Name
    const siteNameEl = document.getElementById('siteName');
    if (siteNameEl) siteNameEl.textContent = data.siteName;

    // Welcome modal
    const modalHeading = document.querySelector('#welcomeModal h2');
    const modalText = document.querySelector('#welcomeModal p');
    const modalBtn = document.getElementById('modalCloseBtn');
    if (modalHeading) modalHeading.textContent = data.welcomeModal.heading;
    if (modalText) modalText.textContent = data.welcomeModal.text;
    if (modalBtn) modalBtn.textContent = data.welcomeModal.button;

    // Header navigation
    document.querySelectorAll('#navMenu a').forEach(a => {
        const key = a.getAttribute('data-en').toLowerCase();
        if (data.headerNav[key]) a.textContent = data.headerNav[key];
    });
    if (langBtn) langBtn.textContent = data.headerNav.langBtn;

    // Hero section
    const heroHeading = document.querySelector('.hero-copy h1');
    const heroText = document.querySelector('.hero-copy p');
    const heroBtn = document.querySelector('.hero-copy .btn');
    if (heroHeading) heroHeading.textContent = data.hero.heading;
    if (heroText) heroText.textContent = data.hero.text;
    if (heroBtn) heroBtn.textContent = data.hero.button;

    // Director card
    const dirTitle = document.querySelector('.director-card h3');
    const dirName = document.querySelector('.director-card .name');
    const dirDob = document.querySelector('.director-card .dob');
    if (dirTitle) dirTitle.textContent = data.directorCard.title;
    if (dirName) dirName.textContent = data.directorCard.name;
    if (dirDob) dirDob.textContent = data.directorCard.dob;

    // About Section
    const aboutHeading = document.querySelector('#about h2');
    const aboutTextEls = document.querySelectorAll('.about-text p');
    const aboutBusinessHeading = document.querySelector('.about-details h4');
    const aboutAddress = document.querySelector('.about-details p');
    if (aboutHeading) aboutHeading.textContent = data.about.heading;
    if (aboutTextEls.length) {
        aboutTextEls[0].textContent = data.about.text1;
        aboutTextEls[1].textContent = data.about.text2;
    }
    if (aboutBusinessHeading) aboutBusinessHeading.textContent = data.about.businessAddress;
    if (aboutAddress) aboutAddress.textContent = data.about.address;

    // Services Section
    const servicesHeading = document.querySelector('#services h2');
    const serviceCards = document.querySelectorAll('#services .card');
    if (servicesHeading) servicesHeading.textContent = data.services.heading;
    serviceCards.forEach((card, index) => {
        if (data.services.list[index]) {
            const h3 = card.querySelector('h3');
            const p = card.querySelector('p');
            if (h3) h3.textContent = data.services.list[index].title;
            if (p) p.textContent = data.services.list[index].text;
        }
    });

    // Schedule Section
    const scheduleHeading = document.querySelector('#schedule h2');
    const scheduleCards = document.querySelectorAll('.schedule-card');
    if (scheduleHeading) scheduleHeading.textContent = data.schedule.heading;
    if (scheduleCards[0]) {
        scheduleCards[0].querySelector('h3').textContent = data.schedule.regular.title;
        const ps = scheduleCards[0].querySelectorAll('p');
        ps[0].textContent = data.schedule.regular.weekdays;
        ps[1].textContent = data.schedule.regular.saturday;
    }
    if (scheduleCards[1]) {
        scheduleCards[1].querySelector('h3').textContent = data.schedule.emergency.title;
        scheduleCards[1].querySelector('p').textContent = data.schedule.emergency.text;
    }

    // Gallery Section
    const galleryHeading = document.querySelector('#gallery h2');
    if (galleryHeading) galleryHeading.textContent = data.gallery.heading;

    // Contact Section
    const contactHeading = document.querySelector('#contact h2');
    const contactSubHeading = document.querySelector('.contact-info h3');
    const contactText = document.querySelector('.contact-info p');
    const contactFormInputs = document.querySelectorAll('.contact-form input, .contact-form textarea');
    const contactBtn = document.querySelector('.contact-form button');

    if (contactHeading) contactHeading.textContent = data.contact.heading;
    if (contactSubHeading) contactSubHeading.textContent = data.contact.subHeading;
    if (contactText) contactText.textContent = data.contact.text;
    if (contactFormInputs.length) {
        contactFormInputs[0].placeholder = data.contact.form.name;
        contactFormInputs[1].placeholder = data.contact.form.email;
        contactFormInputs[2].placeholder = data.contact.form.message;
    }
    if (contactBtn) contactBtn.textContent = data.contact.form.button;

    // Footer
    const footerSiteName = document.querySelector('.footer-logo span');
    const footerLinks = document.querySelectorAll('.footer-links a');
    const footerCopyright = document.querySelector('.footer-bottom p');
    if (footerSiteName) footerSiteName.textContent = data.footer.siteName;
    footerLinks.forEach(a => {
        const key = a.getAttribute('data-en').toLowerCase();
        if (data.footer.links[key]) a.textContent = data.footer.links[key];
    });
    if (footerCopyright) footerCopyright.textContent = data.footer.copyright;
    // Reasons Section
const reasonsHeading = document.querySelector('#reasons h2');
const reasonCards = document.querySelectorAll('#reasons .reason-card');
if (reasonsHeading) reasonsHeading.textContent = data.reasons.heading;
reasonCards.forEach((card, index) => {
  if (data.reasons.list[index]) {
    const h3 = card.querySelector('h3');
    const p = card.querySelector('p');
    if (h3) h3.textContent = data.reasons.list[index].title;
    if (p) p.textContent = data.reasons.list[index].text;
  }
});
    

    // Update HTML lang attribute
    document.documentElement.lang = lang === 'jp' ? 'ja' : 'en';

    // Save to localStorage
    localStorage.setItem('language', lang);
}

// Toggle button
langBtn.addEventListener('click', () => {
    isJapanese = !isJapanese;
    setLanguage(isJapanese ? 'jp' : 'en');
});

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language') || 'en';
    isJapanese = savedLang === 'jp';
    setLanguage(savedLang);
});


document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("welcomeModal");
  const closeBtn = modal.querySelector(".close");
  const getStartedBtn = document.getElementById("modalCloseBtn");

  // Show modal on page load
  modal.style.display = "flex";

  // Function to close modal
  const closeModal = () => {
    modal.style.display = "none";
  };

  // Close when clicking '×'
  closeBtn.addEventListener("click", closeModal);

  // Close when clicking "Get Started"
  getStartedBtn.addEventListener("click", closeModal);

  // Close when clicking outside the modal content
  window.addEventListener("click", (e) => {
    if (e.target === modal) {
      closeModal();
    }
  });
});

document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            // Close mobile menu if open
            const navMenu = document.getElementById('navMenu');
            const hamburger = document.getElementById('hamburger');
            if (navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                hamburger.classList.remove('active');
                document.body.style.overflow = '';
            }
            
            // Scroll to target
            window.scrollTo({
                top: targetElement.offsetTop - 80, // Adjust for header height
                behavior: 'smooth'
            });
        }
    });
});

// Form Submission
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form values
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;
    
    // In a real application, you would send this data to a server
    console.log('Form submitted:', { name, email, message });
    
    // Show success message
    alert(isJapanese ? 
        'お問い合わせありがとうございます。折り返しご連絡させていただきます。' : 
        'Thank you for your message. We will get back to you soon.');
    
    // Reset form
    this.reset();
});

document.addEventListener('DOMContentLoaded', () => {
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');

    hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
        
        // Prevent body scrolling when menu is open
        document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
    });
});
